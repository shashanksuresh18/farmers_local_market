{% extends 'layout.html' %}

{% block content %}
<div class="container mt-5">
    <h2>Products</h2>
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Price</th>
                <th>More Info</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td>{{ product.name }}</td>
                <td>{{ product.description }}</td>
                <td>${{ product.price }}</td>
                <td>
                    <button onclick="toggleInfo('{{ product.id }}')" class="btn btn-primary">Contact</button>
                </td>
            </tr>
            <!-- Hidden row for contact info -->
            <tr id="info-{{ product.id }}" style="display: none;">
                <td colspan="4">
                    <p>Email: {{ product.contact_email }}</p>
                    <p>Phone: {{ product.contact_phone }}</p>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
    function toggleInfo(productId) {
        var infoDiv = document.getElementById('info-' + productId);
        if (infoDiv.style.display === 'none') {
            infoDiv.style.display = '';
        } else {
            infoDiv.style.display = 'none';
        }
    }
</script>
{% endblock %}
